!function e(t,n,i){function o(l,u){if(!n[l]){if(!t[l]){var a="function"==typeof require&&require;if(!u&&a)return a(l,!0);if(r)return r(l,!0);var f=new Error("Cannot find module '"+l+"'");throw f.code="MODULE_NOT_FOUND",f}var c=n[l]={exports:{}};t[l][0].call(c.exports,function(e){var n=t[l][1][e];return o(n?n:e)},c,c.exports,e,t,n,i)}return n[l].exports}for(var r="function"==typeof require&&require,l=0;l<i.length;l++)o(i[l]);return o}({1:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),r=function(){function e(t,n){i(this,e),this.file=t,this.add_file_templ(n)}return o(e,[{key:"add_file_templ",value:function(e){var t=document.querySelectorAll(".file-template"),n=void 0;if(0===e)n=t[0],n.classList.remove("not-active");else{var i=t[e-1],o=document.querySelector(".file-list");n=i.cloneNode(!0),o.appendChild(n)}this.populate_file_templ(n)}},{key:"populate_file_templ",value:function(e){var t=this.file.name,n=this.file.type,i=this.file.size,o=t.substr((~-t.lastIndexOf(".")>>>0)+2),r=e.querySelector(".file-logo"),l=e.querySelector(".file-name"),u=e.querySelector(".file-size"),a=this.get_file_icon(n,o);r.className="file-logo file-info "+a,l.innerHTML=this.sanatize_string(t),u.innerHTML=this.get_file_size(i)}},{key:"get_file_icon",value:function(e,t){var n=e.split("/"),i=n[0],o=n[1];switch(console.log(e),i){case"audio":return"audio";case"application":return"zip"===o||"gzip"===o?"compressed":"pdf"===o?"pdf":"misc";case"image":return"vnd.adobe.photoshop"===o?"photoshop":"image";case"video":return"video";default:return"misc"}}},{key:"get_file_size",value:function(e){console.log(e);var t=["B","KB","MB","GB","TB"],n=Math.log(e)/Math.log(1024)>>0;return(e/Math.pow(1024,n)).toFixed(2)+" "+t[n]}},{key:"sanatize_string",value:function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#x2F;")}}]),e}();n["default"]=r},{}],2:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}var o=e("./xor"),r=i(o);document.addEventListener("DOMContentLoaded",function(){new r["default"]})},{"./xor":3}],3:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),l=e("./fileadd"),u=i(l),a=function(){function e(){o(this,e),this.upload_trigger=document.getElementById("js-upload-trigger"),this.upload_input=document.getElementById("js-upload-input"),this.init_event_listeners()}return r(e,[{key:"init_event_listeners",value:function(){var e=this;this.upload_trigger.addEventListener("click",function(){e.open_upload_dialog()}),this.upload_input.addEventListener("change",function(t){e.on_file_upload(t)})}},{key:"open_upload_dialog",value:function(){this.upload_input.click()}},{key:"on_file_upload",value:function(e){var t=e.target;this.files=t.files,this.show_file_list();for(var n=0;n<this.files.length;++n)new u["default"](this.files[n],n)}},{key:"show_file_list",value:function(){var e=document.querySelector(".form-content.no-upload"),t=document.querySelector(".form-content.file-list");e.style.display="none",t.style.display="block"}}]),e}();n["default"]=a},{"./fileadd":1}]},{},[2]);